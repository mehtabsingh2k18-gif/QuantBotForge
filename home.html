<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>QuantBotForge â€” Home</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
  :root{
    --accent:#2563eb;
    --accent-2:#0ea5a4;
    --muted:#6b7280;
    --bg:#ffffff;
    --card:#ffffff;
    --glass: rgba(16,24,40,0.04);
    --radius:14px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
    background:linear-gradient(180deg,#f7fafc 0%, #ffffff 60%);
    color:#0f172a;
  }

  header{
    position:sticky; top:0; z-index:60;
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(6px);
    display:flex; align-items:center; justify-content:space-between;
    padding:14px 28px; border-bottom:1px solid #eef2f7;
  }
  .nav-left{display:flex; align-items:center; gap:18px;}
  .logo-wrap{display:flex; align-items:center; gap:12px;}
  .logo-img{width:46px; height:46px; border-radius:8px; object-fit:cover; box-shadow:0 6px 20px rgba(37,99,235,0.08)}
  .brand{font-weight:700; font-size:18px;}
  nav a{margin:0 10px; text-decoration:none; color:#0f172a; font-weight:600;}
  nav a:hover{color:var(--accent)}
  .nav-right{display:flex; align-items:center; gap:14px;}

  .profile-icon{width:44px; height:44px; border-radius:10px; background:var(--accent); color:white; display:flex; align-items:center; justify-content:center; font-weight:700; cursor:pointer;}
  .plan-badge{background:transparent; border:1px solid #e6eefc; color:var(--accent); padding:6px 10px; border-radius:10px; font-weight:600; font-size:13px}

  .profile-menu{position:absolute; right:28px; top:72px; width:260px; background:white; border-radius:12px; box-shadow:0 12px 40px rgba(2,6,23,0.08); display:none; padding:14px; z-index:80}
  .profile-menu.visible{display:block}
  .profile-menu .row{font-size:14px; color:#0f172a; margin-bottom:10px}
  .profile-menu .muted{color:var(--muted); font-size:13px}
  .profile-menu button{width:100%; padding:10px; border-radius:8px; border:none; cursor:pointer; font-weight:700}
  .logout-btn{background:#ef4444; color:#fff; margin-top:10px}
  .switch-btn{background:#0f172a; color:#fff}

  /* Hero section */
  .hero{max-width:1200px; margin:34px auto; display:grid; grid-template-columns: 1fr 420px; gap:28px; padding:28px}
  .hero-card{background:linear-gradient(180deg,#fff,#fbfdff); border-radius:16px; padding:36px; box-shadow:0 8px 36px rgba(2,6,23,0.06)}
  .hero h1{margin:0; font-size:34px; color:#071033; line-height:1.05}
  .hero p{color:var(--muted); margin-top:14px; font-size:16px}
  .cta-row{margin-top:22px; display:flex; gap:12px; align-items:center}
  .btn-primary{background:var(--accent); color:#fff; border:none; padding:12px 18px; border-radius:10px; cursor:pointer; font-weight:700; box-shadow:0 8px 30px rgba(37,99,235,0.12)}
  .btn-ghost{padding:12px 16px; border-radius:10px; background:transparent; border:1px solid #e6eefc; color:var(--accent); font-weight:700; cursor:pointer}

  .hero-stats{display:flex; gap:12px; margin-top:20px}
  .stat{background:var(--glass); padding:12px 16px; border-radius:12px; font-weight:700; color:#071033}

  /* Cards */
  .section{max-width:1200px; margin:26px auto; padding:18px}
  .grid{display:grid; gap:18px; grid-template-columns:repeat(auto-fit, minmax(240px,1fr))}
  .card{background:white; border-radius:12px; padding:20px; box-shadow:0 8px 30px rgba(2,6,23,0.04)}
  .card h4{margin:0 0 12px 0; color:#071033}
  .card p{color:var(--muted); margin:0}

  footer{max-width:1200px; margin:26px auto; padding:26px; color:var(--muted); text-align:center}

  @media (max-width:980px){
    .hero{grid-template-columns:1fr; padding:18px}
    .hero-card{order:1}
  }

  /* Fake chat button */
  #fakeChatBtn {
    position:fixed;
    bottom:26px;
    right:26px;
    width:58px;
    height:58px;
    background:#2563eb;
    color:white;
    border-radius:50%;
    display:none;
    align-items:center;
    justify-content:center;
    font-size:26px;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(0,0,0,0.18);
    z-index:999;
  }

  /* Upgrade popup */
  #upgradePopup{
    display:none;
    position:fixed;
    bottom:100px;
    right:26px;
    padding:18px 20px;
    width:260px;
    background:white;
    border-radius:12px;
    box-shadow:0 12px 40px rgba(0,0,0,0.18);
    font-family:Inter,Arial;
    z-index:999;
  }
</style>
</head>

<body>

<!-- Header -->
<header>
  <div class="nav-left">
    <div class="logo-wrap">
      <img class="logo-img" src="/mnt/data/2025-11-25T12-56-21.305Z.png" alt="logo">
      <div class="brand">QuantBotForge</div>
    </div>

    <nav id="navbar-links"></nav>
  </div>

  <div class="nav-right">
<div class="plan-badge" id="planBadge" style="display:none; visibility:hidden;"></div>
    <div id="profileContainer"></div>
  </div>
</header>

<!-- profile dropdown -->
<div id="profileMenu" class="profile-menu"></div>

<!-- Hero -->
<section class="hero">
  <div class="hero-card">
    <h1>Automate trades. Reduce risk. Scale performance.</h1>
    <p>Build reliable, auditable trading bots for MT4/MT5, TradingView & major exchanges.</p>

    <div class="cta-row">
      <button class="btn-primary" onclick="location.href='pricing.html'">View Plans</button>
      <button class="btn-ghost" onclick="location.href='contact.html'">Contact Sales</button>
    </div>

    <div class="hero-stats">
      <div class="stat">Backtests: 10k+</div>
      <div class="stat">Clients: 120+</div>
      <div class="stat">Uptime: 99.9%</div>
    </div>
  </div>

  <aside class="sale-card">
    <h3>Basic Plan</h3>
    <div class="price">$299</div>
    <a class="btn-primary" href="Basic.html">Buy Now</a>
  </aside>
</section>

<!-- Sections -->
<section class="section">
  <h2>What we build</h2>
  <div class="grid">
    <div class="card"><h4>MT4 / MT5 Bots</h4><p>EA with full automation.</p></div>
    <div class="card"><h4>TradingView Signals</h4><p>Pine scripts + webhook automation.</p></div>
    <div class="card"><h4>Exchange Bots</h4><p>Python bots for Binance, OKX, Bybit.</p></div>
    <div class="card"><h4>Optimization</h4><p>Backtests & parameter search.</p></div>
  </div>
</section>

<footer>
  Â© 2025 QuantBotForge â€” <span id="userEmailText"></span>
</footer>

<!-- Fake Chat Button -->
<div id="fakeChatBtn">ðŸ’¬</div>

<!-- Upgrade Popup -->
<div id="upgradePopup">
  <strong>Upgrade Required</strong>
  <p style="font-size:14px; color:#334155;">
    Live chat support is available for paid users only.<br>
    Please upgrade your plan to continue.
  </p>
  <button onclick="location.href='pricing.html'"
          style="background:#2563eb; color:white; border:none; 
          padding:10px 14px; width:100%; margin-top:8px; 
          border-radius:8px; font-weight:700; cursor:pointer;">
    View Plans
  </button>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyD50zshPzc8VOCWxSGLPz7EcawQb8Qreq4",
  authDomain: "quantbotforge.firebaseapp.com",
  databaseURL: "https://quantbotforge-default-rtdb.firebaseio.com",
  projectId: "quantbotforge",
  storageBucket: "quantbotforge.firebasestorage.app",
  messagingSenderId: "792940932432",
  appId: "1:792940932432:web:6eb33f04937fba8a301055"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

const navbarLinks = document.getElementById('navbar-links');
const profileContainer = document.getElementById('profileContainer');
const profileMenu = document.getElementById('profileMenu');
const planBadge = document.getElementById('planBadge');
const fakeChatBtn = document.getElementById("fakeChatBtn");
const upgradePopup = document.getElementById("upgradePopup");

function showVisitorNav(){
  navbarLinks.innerHTML = `
    <a href="services.html">Services</a>
    <a href="process.html">Process</a>
    <a href="faq.html">FAQ</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="signup.html">Sign Up</a>
    <a href="login.html">Login</a>
  `;
  profileContainer.innerHTML = '';
  planBadge.style.display = 'none';
}

function showLoggedNav(email, plan){
  navbarLinks.innerHTML = `
    <a href="user-home.html">Dashboard</a>
    <a href="services.html">Services</a>
    <a href="pricing.html">Plans</a>
  `;
  const letter = email[0].toUpperCase();
  profileContainer.innerHTML = `<div class="profile-icon" id="profileIcon">${letter}</div>`;
  profileMenu.innerHTML = `
    <div class="row"><strong>Plan</strong><div class="muted">${plan}</div></div>
    <div class="row"><strong>Email</strong><div class="muted">${email}</div></div>
    <button class="switch-btn" onclick="location.href='login.html'">Switch Account</button>
    <button class="logout-btn" id="logoutBtn">Logout</button>
  `;
  document.getElementById('logoutBtn').onclick = ()=>auth.signOut().then(()=>location.href='index.html');
  document.getElementById('profileIcon').onclick = ()=>profileMenu.classList.toggle('visible');
}

let tawkLoaded=false;
function loadTawk(){
  if(tawkLoaded) return;
  tawkLoaded=true;
  var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
  (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/6921b672a45b0c1967397786/1jalr1c4n';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
  })();
}

auth.onAuthStateChanged(async user=>{
  if(!user){ showVisitorNav(); return; }

  showLoggedNav(user.email, "Loading...");

  const ref = db.ref("users/"+user.uid);
  ref.once("value").then(snapshot=>{
    const data=snapshot.val()||{};
    const plan = data.plan || data.plan_name || "Free";
    const paymentStatus = (data.paymentStatus || "").toLowerCase();
    const planActive = (data.plan_active === true);

    showLoggedNav(user.email, plan);
    planBadge.innerText = plan;
    planBadge.style.display = "inline-block";

    const isPaid = planActive || paymentStatus==="success";

    if(isPaid){
      fakeChatBtn.style.display="none";
      loadTawk();
    } else {
      fakeChatBtn.style.display="flex";

      fakeChatBtn.onclick = ()=>{
        upgradePopup.style.display="block";
        setTimeout(()=>upgradePopup.style.display="none",3000);
      };
    }
  });
});
</script>
</body>
</html>
